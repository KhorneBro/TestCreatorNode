{"ast":null,"code":"var _jsxFileName = \"D:\\\\Program Files\\\\OpenServer\\\\domains\\\\rebuildTCN\\\\client\\\\src\\\\pages\\\\RegistarationPage.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHttp } from \"../hooks/http.hook\";\nimport { Button, Card, Form } from \"react-bootstrap\";\nimport { useMessage } from \"../hooks/message.hooks\";\nimport { AuthContext } from \"../context/authContext\";\nexport const RegistarationPage = () => {\n  const message = useMessage();\n  const {\n    loading,\n    error,\n    request,\n    clearError\n  } = useHttp();\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    name: '',\n    telegram: ''\n  });\n  useEffect(() => {\n    message(error);\n    clearError();\n  }, [error, message, clearError]);\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', { ...form\n      }); // message(data.message)\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    as: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \"\\u0415\\u0441\\u043B\\u0438 \\u0443 \\u0432\\u0430\\u0441 \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\\"\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\",\n    required: true,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    required: true,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"\\u0418\\u043C\\u044F\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",\n    required: true,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"telegram\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \"\\u0422\\u0435\\u043B\\u0435\\u0433\\u0440\\u0430\\u043C\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"telegram\",\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u0442\\u0435\\u043B\\u0435\\u0433\\u0440\\u0430\\u043C ID(\\u043D\\u0435 \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435)\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    href: \"/authenticated\",\n    variant: \"primary\",\n    type: \"submit\",\n    style: {\n      marginRight: 15\n    },\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    disabled: loading,\n    onClick: registerHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"))));\n};","map":{"version":3,"sources":["D:/Program Files/OpenServer/domains/rebuildTCN/client/src/pages/RegistarationPage.js"],"names":["React","useContext","useEffect","useState","useHttp","Button","Card","Form","useMessage","AuthContext","RegistarationPage","message","loading","error","request","clearError","form","setForm","email","password","name","telegram","changeHandler","event","target","value","registerHandler","data","e","marginRight"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\r\nimport {useHttp} from \"../hooks/http.hook\";\r\nimport {Button, Card, Form} from \"react-bootstrap\";\r\nimport {useMessage} from \"../hooks/message.hooks\";\r\nimport {AuthContext} from \"../context/authContext\";\r\n\r\nexport const RegistarationPage = () => {\r\n    const message = useMessage()\r\n    const {loading, error, request, clearError} = useHttp()\r\n    const [form, setForm] = useState({\r\n        email: '', password: '', name: '', telegram:''\r\n    })\r\n\r\n    useEffect(() => {\r\n        message(error)\r\n        clearError()\r\n    }, [error, message, clearError])\r\n\r\n    const changeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    const registerHandler = async () => {\r\n        try {\r\n            const data = await request('/api/auth/register', 'POST', {...form})\r\n            // message(data.message)\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Header as=\"h3\">Форма регистрации</Card.Header>\r\n            <Card.Body>\r\n                <Card.Text >Если у вас уже ест аккаунт нажмите \"Войти в аккаунт\"</Card.Text>\r\n                <Form>\r\n                    <Form.Group controlId=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            name=\"email\"\r\n                            placeholder=\"Введите email\"\r\n                            required\r\n                            onChange={changeHandler}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Введите пароль\"\r\n                            required\r\n                            onChange={changeHandler}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Имя</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"Введите имя\"\r\n                            required\r\n                            onChange={changeHandler}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"telegram\">\r\n                        <Form.Label>Телеграм</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            name=\"telegram\"\r\n                            placeholder=\"Введите ваш телеграм ID(не обязательное поле)\"\r\n                            onChange={changeHandler}\r\n                        />\r\n                    </Form.Group>\r\n                    <Button\r\n                        href=\"/authenticated\"\r\n                        variant=\"primary\"\r\n                        type=\"submit\"\r\n                        style={{marginRight: 15}}\r\n                        disabled={loading}\r\n                    >\r\n                        Войти в аккаунт\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant=\"dark\"\r\n                        disabled={loading}\r\n                        onClick={registerHandler}\r\n                    >\r\n                        Регистрация\r\n                    </Button>\r\n                </Form>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}